package com.example.user.recipemaker3;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

import java.util.ArrayList;

public class AddFish extends Activity {


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_add_fish);
        Intent intent = getIntent();
        final String tablename = intent.getStringExtra("tablename");


        final DBManager dbManager = new DBManager(getApplicationContext(),"Food.db", null,1);


        Button galchi = (Button)findViewById(R.id.button15);
        Button ggongchi = (Button)findViewById(R.id.button16);
        Button godeung = (Button)findViewById(R.id.button17);
        Button gwanger = (Button)findViewById(R.id.button18);
        Button samchi = (Button)findViewById(R.id.button19);
        Button mooner = (Button)findViewById(R.id.button20);
        Button squid = (Button)findViewById(R.id.button21);
        Button jeonbok = (Button)findViewById(R.id.button22);
        Button OK = (Button)findViewById(R.id.button23);
        final ArrayList<String> arrayList = new ArrayList<String>();


        View.OnClickListener listener = new View.OnClickListener() {
            String keyword="";

            @Override
            public void onClick(View v) {
                switch (v.getId()) {
                    case R.id.button15:
                        arrayList.add("갈치");
                        Toast.makeText(AddFish.this, "갈치 1/2마리 추가!", Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button16:
                        arrayList.add("꽁치");
                        Toast.makeText(AddFish. this,"꽁치 1/2마리 추가!",Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button17:
                        arrayList.add("고등어");
                        Toast.makeText(AddFish. this,"고등어 1/2마리 추가!",Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button18:
                        arrayList.add("광어");
                        Toast.makeText(AddFish. this,"광어 1/2마리 추가!",Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button19:
                        arrayList.add("삼치");
                        Toast.makeText(AddFish. this,"삼치 1/2마리 추가!",Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button20:
                        arrayList.add("문어");
                        Toast.makeText(AddFish. this,"문어 1/2마리 추가!",Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button22:
                        arrayList.add("오징어");
                        Toast.makeText(AddFish. this,"오징어 1/2마리 추가!",Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button21:
                        arrayList.add("전복");
                        Toast.makeText(AddFish. this,"전복 1/2마리 추가!",Toast.LENGTH_SHORT).show();
                        break;

                    case R.id.button23:
                        while(arrayList.size()>0) {
                            int i=0;
                            int count=1;
                            keyword = arrayList.get(0);

                            for (int j = 1; j < arrayList.size(); j++)
                            {
                                if (arrayList.get(j).equals(keyword))
                                {
                                    count++;
                                }
                            }
                            while (i < arrayList.size()) {
                                if (arrayList.get(i).equals(keyword)) {
                                    arrayList.remove(i);
                                }
                                else
                                {
                                    i++;
                                }
                            }
                            dbManager.insert("insert into '"+tablename+"' values(null, '재료: "+keyword+"    수량: "+ 0.5*count +"');");
                        }
                        finish();
                        break;

                }

            }
        };


        galchi.setOnClickListener(listener);
        ggongchi.setOnClickListener(listener);
        godeung.setOnClickListener(listener);
        gwanger.setOnClickListener(listener);
        samchi.setOnClickListener(listener);
        mooner.setOnClickListener(listener);
        squid.setOnClickListener(listener);
        jeonbok.setOnClickListener(listener);
        OK.setOnClickListener(listener);

        }
        }
